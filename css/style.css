/* Main CSS file - Importer */

/* ======================================= */
/*   Main Stylesheet - Imports All Parts   */
/* ======================================= */

/* 1. Base styles, variables, and resets */
@import url('base/_reset.css');
@import url('base/_variables.css');
@import url('base/_typography.css');
@import url('base/_layout.css');

/* 2. Reusable components */
@import url('components/_buttons.css');
@import url('components/_header.css');
@import url('components/_fullscreen-menu.css');
@import url('components/_footer.css'); /* Added this line */

/* 3. Page-specific or larger components */
@import url('components/_scrollytelling.css');
@import url('components/_homepage.css'); /* Added this line */

/* Add other component imports here as we create them */



/*
==========================================================
  DEFINITIVE SCROLLYTELLING LAYOUT (CORRECTED)
==========================================================
*/

/* The main container for the two-column effect. */
.scrolly-container {
    display: flex;
    
    /* 
      FIX #1 - THE PINNING PROBLEM:
      This is the most critical property. It tells the flex container to align
      the top of the short column (visuals) with the top of the tall
      column (text). Without this, `position: sticky` will not work
      correctly inside a flex container of uneven children.
    */
    align-items: flex-start;
}

/* The left column that holds the 3D canvas. It will be STICKY. */
.pillar-visuals-col {
    /* These three properties are the core of the pinning effect. */
    position: -webkit-sticky; /* Required for Safari */
    position: sticky;       /* Makes the element 'stick' as the page scrolls */
    top: 0;                 /* Sticks it to the very top of the viewport */

    width: 50%;             
    height: 100vh;          /* Make it exactly the height of the screen */

    /* These are for centering the canvas within the column, which is correct. */
    display: flex;
    align-items: center;
    justify-content: center;
}

#threejs-canvas {
    width: 500px;
    height: 500px;
    max-width: 100%;
}

/* The right column that holds the scrolling text. */
.pillar-text-col {
    width: 50%;
    position: relative; /* This is fine, for z-index context. */
    z-index: 10;
    
    /* 
      FIX #2 - THE BREATHING ROOM PROBLEM:
      This adds horizontal padding INSIDE the text column, pushing the
      text away from the visual column and giving it space.
      Adjust the '5%' value to your liking.
    */
    padding: 0 5%;
}


/* Each individual text section. These create the scroll distance. */
.pillar-text-content {
    /* Each pillar must be tall to create scroll distance. */
    min-height: 85vh; /* This is correct. */

    /* These properties center the text nicely within each tall pillar. */
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* 
  The text wrapper itself. By adding padding to the parent column,
  we can just use margin here to center it.
*/
.text-anim-wrapper {
    max-width: 550px;
    margin: 0 auto; /* Horizontally center the text block */
}


/* --- Mobile & Responsive Fallback --- */
@media (max-width: 1024px) {
    .scrolly-container {
        flex-direction: column;
        align-items: center; /* Center items when in a column */
    }

    .pillar-visuals-col, 
    .pillar-text-col {
        width: 100%;
        position: relative; /* Reset sticky positioning */
        top: auto;
        padding: 0 5%; /* Ensure padding is consistent on mobile */
    }

    .pillar-visuals-col {
        height: 50vh;
        margin-bottom: 2rem;
    }

    .pillar-text-content {
        min-height: auto; /* On mobile, let content define height */
        padding-top: 4rem;
        padding-bottom: 4rem;
    }
}


/* =========================================================================
   11. Contact Page Styles (contato.html)
   ========================================================================= */

.contact-options-section {
    padding: 40px 0 100px 0; /* Less top padding as it follows the header */
}

.contact-options-grid {
    display: grid;
    grid-template-columns: 1fr; /* Default for mobile */
    gap: 40px;
    max-width: 900px;
    margin: 0 auto;
}

/* On larger screens, create two columns */
@media (min-width: 768px) {
    .contact-options-grid {
        grid-template-columns: 1fr 1fr;
    }
}

.contact-option {
    border: 1px solid var(--color-surface-dark);
    border-radius: var(--border-radius);
    padding: 40px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: var(--transition-smooth);
}
.contact-option:hover {
    border-color: rgba(var(--rgb-primary), 0.3);
}

.contact-icon {
    width: 50px;
    height: 50px;
    margin-bottom: 20px;
    color: var(--color-primary-vibrant);
}
.primary-action .contact-icon {
    color: var(--color-accent);
}

.contact-title {
    text-align: center;
    font-size: 1.8rem;
    margin-bottom: 15px;
}

.contact-description {
    color: var(--color-text-muted);
    flex-grow: 1; /* Ensures buttons align at the bottom */
    margin-bottom: 30px;
}

/* Give the primary action more visual weight */
.primary-action {
    background-color: var(--color-surface-dark);
    border-color: rgba(255, 255, 255, 0.15);
}

.primary-action:hover {
     transform: translateY(-8px);
     border-color: var(--color-accent);
}
/* =========================================================================
   12. Resources Page Styles (recursos.html)
   ========================================================================= */
.resources-section {
    padding: 40px 0 100px 0;
}
.resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 35px;
}
.resource-card {
    display: flex;
    flex-direction: column;
    background-color: var(--color-surface-dark);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    overflow: hidden; /* Ensures image corners are rounded */
    text-decoration: none;
    color: var(--color-text-main);
    transition: var(--transition-smooth);
}
.resource-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    border-color: rgba(var(--rgb-primary), 0.4);
}
.resource-image {
    width: 100%;
    height: 200px;
    object-fit: cover; /* Prevents image distortion */
    background-color: var(--color-background-dark);
}
.resource-text-content {
    padding: 25px;
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Ensures cards have same height in a row */
}
.resource-title {
    font-size: 1.4rem;
    color: var(--color-heading);
    margin-bottom: 10px;
}
.resource-excerpt {
    color: var(--color-text-muted);
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: 20px;
    flex-grow: 1;
}
.resource-read-more {
    color: var(--color-accent);
    font-weight: 600;
    align-self: flex-start;
}
/* =========================================================================
   13. Mobile Navigation System (THE HEADER MORPH - FINAL BUILD)
   ========================================================================= */

/* Hide hamburger on desktop */
.mobile-nav-toggle {
    display: none;
}

/* Stop page scroll when menu is open */
body.no-scroll {
    overflow: hidden;
}

@media (max-width: 1024px) {

    /* --- Stage 1: Setup Header and Default Menu State --- */

    /* Ensure the header is the top layer, but below the menu button */
    .sticky-header {
        z-index: 1000; 
    }
    
    .mobile-nav-toggle {
        display: block; /* Make it visible */
        z-index: 1001; /* Must be on top of the sticky header */
    }

    /* Hide the desktop nav by default */
    .main-nav {
        display: none; 
    }
    
    .header-cta {
        display: none;
    }

    /* --- Stage 2: The OPEN Menu State --- */
    
    .main-nav[data-visible="true"] {
        display: flex; /* Makes the panel visible */
        flex-direction: column;
        justify-content: center; /* Vertically center links */

        /* Positioning to take over the screen BELOW the header */
        position: fixed;
        inset: var(--header-height) 0 0 0; /* top, right, bottom, left */

        /* Opaque background so page content is invisible */
        background-color: var(--color-background-dark);
    }
    
    /* The List and Links inside the open menu */
    .main-nav[data-visible="true"] ul {
        list-style: none;
        padding: 0;
        margin: 0;
        text-align: center;
    }

    .main-nav[data-visible="true"] ul a {
        display: block;
        color: var(--color-heading);
        font-size: 1.5rem;
        font-weight: 600;
        padding: 1rem 2rem; /* Make it easily tappable */
    }

    /* --- Stage 3: Hamburger Button Styling --- */

    .mobile-nav-toggle {
        position: absolute; /* Relative to the header container */
        top: 50%;
        transform: translateY(-50%);
        right: 1.5rem;
        background: transparent;
        border: 0;
        height: 1.5rem;
        width: 1.5rem;
        cursor: pointer;
    }
    .icon-container {
        position: relative;
        height: 100%;
        width: 100%;
        display: block;
    }
    
    /* Style the hamburger lines */
    .icon-hamburger::before,
    .icon-hamburger::after {
        content: '';
        position: absolute;
        left: 0;
        height: 2px;
        width: 100%;
        background-color: var(--color-heading);
        border-radius: 99px;
        transition: transform 300ms ease;
    }
    .icon-hamburger::before { top: 2px; }
    .icon-hamburger::after { bottom: 2px; }
    
    /* Style the X icon lines */
    .icon-close::before,
    .icon-close::after {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        height: 2px;
        width: 100%;
        background-color: var(--color-heading);
        border-radius: 99px;
    }
    .icon-close::before { transform: rotate(45deg); }
    .icon-close::after { transform: rotate(-45deg); }
    
    /* --- Stage 4: Icon Switching Logic --- */
    
    /* Hide the X by default */
    .mobile-nav-toggle[aria-expanded="false"] .icon-close {
        display: none;
    }
    /* Hide the hamburger when menu is open */
    .mobile-nav-toggle[aria-expanded="true"] .icon-hamburger {
        display: none;
    }
    /* Hide the word "Menu" from our accessible span */
    .sr-only { display: none; }

}
/* =========================================================================
   14. Accessibility & Utilities
   ========================================================================= */

/* Hides content visually while keeping it available for screen readers */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}
/* --- 8. Responsive Header Logic --- */

/* Default styles for MOBILE (breakpoint is 992px) */
/* Hide the desktop navigation container on smaller screens by default */
.header-desktop-nav-container {
    display: none;
}

/* We already have styles for the mobile menu-toggle-button, so it will show by default */


/* Styles for DESKTOP (screens wider than 992px) */
@media (min-width: 992px) {
    
    /* --- Show Desktop Navigation --- */
    .header-desktop-nav-container {
        display: flex;
        align-items: center;
        gap: 30px;
    }

    .desktop-nav ul {
        display: flex;
        list-style: none;
        gap: 28px;
        margin: 0;
        padding: 0;
    }

    /* --- NEW "GHOST PILL" HOVER EFFECT --- */
    .desktop-nav a {
        color: var(--color-text-main);
        font-weight: 500;
        font-size: 0.95rem;
        text-decoration: none;
        
        /* 1. Create the pill shape with padding and border-radius */
        padding: 8px 16px; /* More horizontal padding for a nice pill shape */
        border-radius: 20px; /* This makes the corners fully rounded */
        
        /* 2. Ensure smooth transition for background and text color */
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .desktop-nav a:hover {
        /* 3. On hover, change the text and background color */
        color: var(--color-heading); /* Makes text brighter on hover */
        background-color: var(--color-surface-dark); /* The subtle, darker pill appears */
    }

    /* No ::after rules are needed anymore! */
    
    /* Style the desktop CTA button */
    .header-cta-desktop {
        padding: 10px 22px;
        font-size: 0.9rem;
        font-weight: 600;
    }

    /* --- Hide Mobile Hamburger --- */
    .site-header-pill .menu-toggle-button {
        display: none;
    }
}

/* Minor adjustment for very large screens to give more space */
@media (min-width: 1200px) {
    .site-header-pill {
        max-width: 1100px;
    }
    .desktop-nav ul {
        gap: 40px;
    }
}
/* ===================== CEREBRO HUD v11 STYLES ===================== */
#cerebro-hud {
    position: fixed; top: 10px; right: 10px; z-index: 10000;
    background: rgba(10, 20, 35, 0.9); color: #ECEFF4;
    border: 1px solid #4C566A; border-radius: 8px;
    padding: 12px; font-family: monospace; font-size: 13px;
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    width: 290px; pointer-events: none;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
#cerebro-hud h4 {
    margin: 0 0 10px; padding-bottom: 8px; border-bottom: 1px solid #4C566A;
    color: #88C0D0; font-weight: bold; letter-spacing: 1px;
}
#cerebro-hud div { display: flex; justify-content: space-between; margin-bottom: 4px; }
#cerebro-hud .label { color: #81A1C1; width: 130px; }
#cerebro-hud .divider { height: 1px; background: #4C566A; margin: 8px 0; }
#cerebro-hud span:not(.label) { font-weight: bold; color: #E5E9F0; }

