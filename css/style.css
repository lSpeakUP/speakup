/* Main CSS file - Importer */

/* ======================================= */
/*   Main Stylesheet - Imports All Parts   */
/* ======================================= */

/* 1. Base styles, variables, and resets */
@import url('base/_reset.css');
@import url('base/_variables.css');
@import url('base/_typography.css');
@import url('base/_layout.css');

/* 2. Reusable components */
@import url('components/_buttons.css');
@import url('components/_header.css');
@import url('components/_fullscreen-menu.css');
@import url('components/_footer.css');

/* 3. Page-specific or larger components */
@import url('components/_scrollytelling.css');
@import url('components/_homepage.css');
@import url('components/_story-page.css'); /* Added this line */




/* =========================================================================
   13. Mobile Navigation System (THE HEADER MORPH - FINAL BUILD)
   ========================================================================= */

/* Hide hamburger on desktop */
.mobile-nav-toggle {
    display: none;
}

/* Stop page scroll when menu is open */
body.no-scroll {
    overflow: hidden;
}

@media (max-width: 1024px) {

    /* --- Stage 1: Setup Header and Default Menu State --- */

    /* Ensure the header is the top layer, but below the menu button */
    .sticky-header {
        z-index: 1000; 
    }
    
    .mobile-nav-toggle {
        display: block; /* Make it visible */
        z-index: 1001; /* Must be on top of the sticky header */
    }

    /* Hide the desktop nav by default */
    .main-nav {
        display: none; 
    }
    
    .header-cta {
        display: none;
    }

    /* --- Stage 2: The OPEN Menu State --- */
    
    .main-nav[data-visible="true"] {
        display: flex; /* Makes the panel visible */
        flex-direction: column;
        justify-content: center; /* Vertically center links */

        /* Positioning to take over the screen BELOW the header */
        position: fixed;
        inset: var(--header-height) 0 0 0; /* top, right, bottom, left */

        /* Opaque background so page content is invisible */
        background-color: var(--color-background-dark);
    }
    
    /* The List and Links inside the open menu */
    .main-nav[data-visible="true"] ul {
        list-style: none;
        padding: 0;
        margin: 0;
        text-align: center;
    }

    .main-nav[data-visible="true"] ul a {
        display: block;
        color: var(--color-heading);
        font-size: 1.5rem;
        font-weight: 600;
        padding: 1rem 2rem; /* Make it easily tappable */
    }

    /* --- Stage 3: Hamburger Button Styling --- */

    .mobile-nav-toggle {
        position: absolute; /* Relative to the header container */
        top: 50%;
        transform: translateY(-50%);
        right: 1.5rem;
        background: transparent;
        border: 0;
        height: 1.5rem;
        width: 1.5rem;
        cursor: pointer;
    }
    .icon-container {
        position: relative;
        height: 100%;
        width: 100%;
        display: block;
    }
    
    /* Style the hamburger lines */
    .icon-hamburger::before,
    .icon-hamburger::after {
        content: '';
        position: absolute;
        left: 0;
        height: 2px;
        width: 100%;
        background-color: var(--color-heading);
        border-radius: 99px;
        transition: transform 300ms ease;
    }
    .icon-hamburger::before { top: 2px; }
    .icon-hamburger::after { bottom: 2px; }
    
    /* Style the X icon lines */
    .icon-close::before,
    .icon-close::after {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        height: 2px;
        width: 100%;
        background-color: var(--color-heading);
        border-radius: 99px;
    }
    .icon-close::before { transform: rotate(45deg); }
    .icon-close::after { transform: rotate(-45deg); }
    
    /* --- Stage 4: Icon Switching Logic --- */
    
    /* Hide the X by default */
    .mobile-nav-toggle[aria-expanded="false"] .icon-close {
        display: none;
    }
    /* Hide the hamburger when menu is open */
    .mobile-nav-toggle[aria-expanded="true"] .icon-hamburger {
        display: none;
    }
    /* Hide the word "Menu" from our accessible span */
    .sr-only { display: none; }

}
/* =========================================================================
   14. Accessibility & Utilities
   ========================================================================= */

/* Hides content visually while keeping it available for screen readers */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}
/* --- 8. Responsive Header Logic --- */

/* Default styles for MOBILE (breakpoint is 992px) */
/* Hide the desktop navigation container on smaller screens by default */
.header-desktop-nav-container {
    display: none;
}

/* We already have styles for the mobile menu-toggle-button, so it will show by default */


/* Styles for DESKTOP (screens wider than 992px) */
@media (min-width: 992px) {
    
    /* --- Show Desktop Navigation --- */
    .header-desktop-nav-container {
        display: flex;
        align-items: center;
        gap: 30px;
    }

    .desktop-nav ul {
        display: flex;
        list-style: none;
        gap: 28px;
        margin: 0;
        padding: 0;
    }

    /* --- NEW "GHOST PILL" HOVER EFFECT --- */
    .desktop-nav a {
        color: var(--color-text-main);
        font-weight: 500;
        font-size: 0.95rem;
        text-decoration: none;
        
        /* 1. Create the pill shape with padding and border-radius */
        padding: 8px 16px; /* More horizontal padding for a nice pill shape */
        border-radius: 20px; /* This makes the corners fully rounded */
        
        /* 2. Ensure smooth transition for background and text color */
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .desktop-nav a:hover {
        /* 3. On hover, change the text and background color */
        color: var(--color-heading); /* Makes text brighter on hover */
        background-color: var(--color-surface-dark); /* The subtle, darker pill appears */
    }

    /* No ::after rules are needed anymore! */
    
    /* Style the desktop CTA button */
    .header-cta-desktop {
        padding: 10px 22px;
        font-size: 0.9rem;
        font-weight: 600;
    }

    /* --- Hide Mobile Hamburger --- */
    .site-header-pill .menu-toggle-button {
        display: none;
    }
}

/* Minor adjustment for very large screens to give more space */
@media (min-width: 1200px) {
    .site-header-pill {
        max-width: 1100px;
    }
    .desktop-nav ul {
        gap: 40px;
    }
}
/* ===================== CEREBRO HUD v11 STYLES ===================== */
#cerebro-hud {
    position: fixed; top: 10px; right: 10px; z-index: 10000;
    background: rgba(10, 20, 35, 0.9); color: #ECEFF4;
    border: 1px solid #4C566A; border-radius: 8px;
    padding: 12px; font-family: monospace; font-size: 13px;
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    width: 290px; pointer-events: none;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
#cerebro-hud h4 {
    margin: 0 0 10px; padding-bottom: 8px; border-bottom: 1px solid #4C566A;
    color: #88C0D0; font-weight: bold; letter-spacing: 1px;
}
#cerebro-hud div { display: flex; justify-content: space-between; margin-bottom: 4px; }
#cerebro-hud .label { color: #81A1C1; width: 130px; }
#cerebro-hud .divider { height: 1px; background: #4C566A; margin: 8px 0; }
#cerebro-hud span:not(.label) { font-weight: bold; color: #E5E9F0; }

